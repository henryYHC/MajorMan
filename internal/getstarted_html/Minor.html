<style>
	.content{
        height: 500px;
    }
    .titles {
      font-size: 20px;
      color: #ffffff;
      background-color: #000000;
      padding: 15px;
      margin-bottom: 7px;
    }
  .search_results{
        font-size: 15px;
        padding: 10px;
        margin-bottom: 2px;
        border: 1px solid transparent;
        border-radius: 0;
        color: #000000;
        background-color: #E8E8E8;
        border-color: #E8E8E8;
      }
  .entry {
        font-size: 15px;
        padding-top: 10px;
        padding-right: 15px;
        padding-left: 15px;
        padding-bottom: 10px;
        margin-bottom: 5px;
        border-style:solid;
        border-width:1px;
        color: #000000;
        background-color: #E8E8E8;
        border-color: #E8E8E8;
      }
      .box1 {
        padding: 15px;
        background-color: #007fff;
        color: #ffffff;
        margin-bottom: 15px;
      }
</style>
<div class="col-xs-3">
    </div>
    <div class="col-xs-6">
      <div class="content">
          <div class="page-header"><h1>My Minors</h1></div>
          <div class="box1">
            Search and add your current minor(s) to your MajorMan account to ensure your planner is as complete as possible. We will compile your minor requirements and add them to your planner, generating a recommended minor path, which you can then customize to your own liking.
          </div>

          <div class="row">
              <div class="col-xs-6">
                  <div class="titles">Add Your Minor(s)</div>
                  <input type="text" class="form-control" id="MinorSearch" placeholder="Search by minor name">
                  <div id="minor_results"></div>
              </div>
              <div class="col-xs-6">
                  <div class="titles">Entered Minors</div> 
                  <div id="minor_list">
                      <div class='entry'>Undeclared</div> 
                  </div>
              </div>
          </div>
      </div>

      <hr>
      <div class="pull-right">
        <button class="btn btn-primary" onclick="window.location.href = '#APIB'">Next</button>
      </div>
    </div>
    <div class="col-xs-3">
    </div>

<script>
     $("#MinorSearch").keyup(function(){
          var kw = $("#MinorSearch").val();
          if(kw != '')
          {    
             $.ajax({
                  type: "GET", 
                  url: "function_php/major_search.php",
                  data: { kw : kw, major : 0}, 
                  success: function(data) {        
                    $("#minor_results").html(data);
                 }  
             });   
          }  
          else { 
            $("#minor_results").html("");   
          }  
          return false;   
    });

    function addMinor(minor){
          $.ajax({
            type: "POST", 
            url: "function_php/myprofile_update.php",
            data: { minor : minor }, 
            success: function(data) { 
              $.getJSON( "function_php/myprofile_fetch.php", function(data){
                    $("#minor_list:contains('Undeclared')").html('');
                    $("#minor_list").append("<div class='entry'>" + data.Minor[data.Minor.length-1] + "<span class=\"glyphicon glyphicon-remove pull-right\" onclick=\"removeMinor(event, " + data.MinorNo[data.MinorNo.length-1] + ")\"></span></div>");
                });
              $("#MinorSearch").val("");
              $("#minor_results").html("");
            }  
        });
    }

    function removeMinor(event, minorNo){
        $.ajax({
            type: "POST", 
            url: "function_php/myprofile_update.php",
            data: { removeMinorNo : minorNo }, 
            success: function(data) { 
              $(".entry:contains('"+event.target.parentElement.innerText+"')").remove();
              if($("#minor_list").html() == "") $("#minor_list").html("<div class='entry'>Undeclared</div>");
            }  
        });
    }
</script>