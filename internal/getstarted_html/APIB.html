<style>
    .content{
        height: 500px;
    }
    .titles {
      font-size: 20px;
      color: #ffffff;
      background-color: #000000;
      padding: 15px;
      margin-bottom: 7px;
    }
  .search_results{
        font-size: 15px;
        padding: 10px;
        margin-bottom: 2px;
        border: 1px solid transparent;
        border-radius: 0;
        color: #000000;
        background-color: #E8E8E8;
        border-color: #E8E8E8;
      }
  .entry {
        font-size: 15px;
        padding-top: 10px;
        padding-right: 15px;
        padding-left: 15px;
        padding-bottom: 10px;
        margin-bottom: 5px;
        border-style:solid;
        border-width:1px;
        color: #000000;
        background-color: #E8E8E8;
        border-color: #E8E8E8;
      }
      .box1 {
        padding: 15px;
        background-color: #007fff;
        color: #ffffff;
        margin-bottom: 15px;
      }
</style>

<div class="col-xs-3">
    </div>
    <div class="col-xs-6">
      <div class="content">
          <div class="page-header"><h1>My AP/IB Credits</h1></div>
          <div class="box1">
            Search and add your current AP/IB transfer credit(s) to your MajorMan account to ensure your planner is as complete as possible. We will keep track of these credits and how they influence your major and GER requirements. 
          </div>

          <div class="row">
              <div class="col-xs-6">
                  <div class="titles">Add Your AP/IB Credit(s)</div>
                  <input type="text" class="form-control" id="APIBSearch" placeholder="AP/IB Credit Name">
                  <div id="APIB_Result"></div>
              </div>
              <div class="col-xs-6">
                  <div class="titles">Entered Credits</div> 
                  <div id="APIB_list"><div class='entry'>None</div></div>
              </div>
          </div>
      </div>

      <hr>
      <div class="pull-right">
        <button class="btn btn-primary" onclick="window.location.href = '#ExtraCourse'">Next</button>
      </div>
    </div>
    <div class="col-xs-3">
    </div>

<script>
    $("#APIBSearch").keyup(function(){    
        var kw = $("#APIBSearch").val();  
        if(kw != '')
        {    
            $.ajax({                       
                type: "GET",              
                url: "function_php/APIB_search.php", 
                data: { kw : kw }, 
                success: function(data) {        
                        $("#APIB_Result").html(data);
                }  
            });   
        }  
        else { 
            $("#APIB_Result").html("");   
        }  
        return false;  
    });

    function addAPIB(No){
        $.ajax({
        type: "POST", 
        url: "function_php/myprofile_update.php",
        data: { APIBno : No }, 
        success: function(data) { 
          $.getJSON( "function_php/myprofile_fetch.php", function(data){
                    $("#APIB_list:contains('None')").html('');
                    $("#APIB_list").append("<div class='entry'>" + data.APIB[data.APIB.length-1] + "<span class=\"glyphicon glyphicon-remove pull-right\" onclick=\"removeAPIB(event, " + data.APIBno[data.APIBno.length-1] + ")\"></span></div>");
            });
            $("#APIBSearch").val("");
            $("#APIB_Result").html("");
        }  
      });
    }
    function removeAPIB(event, No){
        $.ajax({
        type: "POST", 
        url: "function_php/myprofile_update.php",
        data: { removeAPIBno : No }, 
        success: function(data) { 
          $(".entry:contains('"+event.target.parentElement.innerText+"')").remove();
          if($("#APIB_list").html() == "") $("#APIB_list").html("<div class='entry'>None</div>");
        }  
      });  
    }
</script>
